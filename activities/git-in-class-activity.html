<!doctype html>
<html lang="en">
    <head>
            <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/spring2025/assets/images/favicon.ico" type="image/x-icon">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <title>Git Collaboration Activity</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="stylesheet" href="/spring2025/assets/main.css">
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-163192686-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-163192686-1');
    </script>
    </head>
    <body class="two-column">
        <!-- banner -->
<header>
    <section>
        <h1 class="desktop"><a href="/spring2025/">CSCI 338: Spring 2025</a></h1>
        <h2 class="desktop">Software Engineering</h2>
        <a class="mobile" href="#">
            <i class="menu-toggle fas fa-bars"></i>
        </a>
        <h1 class="mobile">CSCI 338: Spring 2025</h1>
    </section>
    <img src="https://communication.unca.edu/wp-content/themes/tin/assets/logo.svg" />
</header>
        <nav>
    <ul>
        <li ><a href="/spring2025/syllabus/">Syllabus</a>
        </li>
        <li ><a
                href="/spring2025/">Schedule</a></li>
        <!-- <li ><a
                href="/spring2025/topics/">Topics</a></li> -->
        <li ><a
            href="/spring2025/assignments/">Assignments</a></li>
        <li ><a
            href="/spring2025/resources/">Resources</a></li> 
        <li ><a href="/spring2025/repos/">Repos</a>
        </li>
        <li><a href="https://drive.google.com/drive/folders/12PKfUx86a0Toz7I7bscB6m3rzPK8EjG0?usp=sharing"
                target="_blank">Videos</a></li>
    </ul>
</nav>
        <main>
            <aside>
                
                
                <ol class="side-menu">
  <li><a href="#id_setup">Setup</a></li>
  <li><a href="#id_creating-a-conflict">Creating a Conflict</a>
    <ol>
      <li><a href="#id_feature-a">Feature A</a></li>
      <li><a href="#id_feature-b">Feature B</a></li>
    </ol>
  </li>
  <li><a href="#id_merging">Merging</a></li>
  <li><a href="#id_rebasing">Rebasing</a></li>
</ol>

            </aside>
            <article>
                

    
        <h1>Git Collaboration Activity</h1>
    
 
                <blockquote>
  <p>Credit: This activity was designed by Semmy Purewall</p>
</blockquote>

<p>This activity is designed to be completed entirely in class. The goals with this activity are as follows:</p>

<ol>
  <li>Practice with merge conflicts</li>
  <li>Practicing with various merging/rebasing strategies</li>
  <li>More practice with basic git &amp; CLI stuff</li>
</ol>

<h2 id="id_setup">Setup</h2>

<p>For this activity, you’ll work with (at least) one other person. To
bootstrap, you’ll both create a new git repository called
merge-activity.</p>

<p>On the command line (Windows users use WSL, create a new directory at the root of your <code class="highlighter-rouge">csci338</code> folder:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">mkdir </span>merge-activity
</code></pre></div></div>

<ol>
  <li>Navigate into the directory (<code class="highlighter-rouge">cd merge-activity</code>)</li>
  <li>Initialize a new git repository (<code class="highlighter-rouge">git init</code>)</li>
  <li>Create a README.md file with a header</li>
  <li>State your <code class="highlighter-rouge">README.md</code> file using <code class="highlighter-rouge">git add .</code></li>
  <li>Commit it (<code class="highlighter-rouge">git commit -m "Added README.md"</code>)</li>
</ol>

<p>Next add a <code class="highlighter-rouge">my_code.py</code> file. It should look like this.</p>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">say_hello</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"hello world!"</span><span class="p">);</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">say_hello</span><span class="p">();</span>
</code></pre></div></div>

<p>Commit it.</p>

<p>Now create a github repository for this and push it. Let’s keep it a
private repository for now.</p>

<p>After a successful push, add your collaborator to the
repository. Next, change directory back into your <code class="highlighter-rouge">csci338</code> directory and clone your partner’s repository, but let’s change the name
when cloning (so as to not create a conflict with your
<code class="highlighter-rouge">merge-activity</code> repository) like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="c"># make sure you're in your csci338 directory</span>
<span class="nv">$ </span>git clone git@github.com:&lt;owner-username&gt;/merge-activity.git &lt;your-username&gt;-merge-activity
</code></pre></div></div>

<p>For instance, if Sarah was cloning Walter’s repository, she would type:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git clone git@github.com:walter/merge-activity.git walter-merge-activity
</code></pre></div></div>

<ul>
  <li>Sarah’s repository: merge-activity</li>
  <li>Walter’s repository: walter-merge-activity</li>
</ul>

<p>Now you should have two versions of the respository: yours (<code class="highlighter-rouge">merge-activity</code>) and your partners (<code class="highlighter-rouge">&lt;owner-username&gt;-merge-activity</code>). List the contents of your <code class="highlighter-rouge">csci338</code> directory to confirm that this is the case.</p>

<h2 id="id_creating-a-conflict">Creating a Conflict</h2>

<p><strong>Pick one of the two github repositories to use for this section.</strong> We’ll
refer to the repository owner as “owner” and the other person as the
“collaborator” from here on out.</p>

<p>We’re going to work on two features in parallel now. The owner will
work on Feature A and the collaborator will work on Feature B. The
owner of the repo will change directories to their home directory and
then go into <code class="highlighter-rouge">merge-activity</code> activity directory like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>merge-activity
</code></pre></div></div>

<p>The collaborator will go into their clone of the owner’s repo on their
computer.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd</span> &lt;username&gt;-merge-activity
</code></pre></div></div>

<p>These two repositories should have the same remote urls.</p>

<p><strong>Question:</strong> Which Git subcommand can you use to confirm that? Go ahead and confirm it.</p>

<p><strong>Answer:</strong> <code class="highlighter-rouge">git remote show origin</code></p>

<p>Complete the next two sections in parallel.</p>

<h3 id="id_feature-a">Feature A</h3>

<p>This feature will be implemented on the <code class="highlighter-rouge">main</code> branch.</p>

<p><strong>The owner of the repository</strong> should complete Feature A. Instead of always printing “hello world”, let’s make your function print out “hello &lt;name&gt;” where “&lt;name&gt;” is specified as a parameter to the
function. In other words, when called like this:</p>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">say_hello</span><span class="p">(</span><span class="s">"Walter"</span><span class="p">)</span>
</code></pre></div></div>

<p>It will print out:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hello Walter!
</code></pre></div></div>

<p>Once this is tested and working commit it locally, then <strong>push your main branch to the
remote repository</strong> on GitHub.</p>

<h3 id="id_feature-b">Feature B</h3>

<p>The collaborator will complete this feature on a branch. First, create
and check out a branch.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git checkout <span class="nt">-b</span> feature-b
</code></pre></div></div>

<p>Now implement feature-b. Allow an argument to specify the number of
times the message should be repeated. So if it’s called like this:</p>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">say_hello</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</code></pre></div></div>

<p>It will print out:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hello world!
hello world!
hello world!
</code></pre></div></div>

<p>Once you’re happy with your change, commit it locally, but <strong>do not push
anything yet.</strong></p>

<h2 id="id_merging">Merging</h2>

<p>Once you’re both finished with the sections above, you’ll work
together on this section on the <strong>collaborator’s</strong> computer.</p>

<p>At this point, we are in the situation where you are in a feature
branch, but main is ahead.</p>

<p><img src="/spring2025/assets/images/activities/feature_branch_main_ahead.png" alt="image" /></p>

<p>Check the state of your git repository and make sure you’re on the
<code class="highlighter-rouge">feature-b</code> branch. Let’s  checkout <code class="highlighter-rouge">main</code> on your laptop and then  pull your partner’s
changes down from GitHub.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git checkout main
</code></pre></div></div>

<p>Confirm you’re on the main branch now.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git pull origin main
</code></pre></div></div>

<p>Now take a look at the history and make sure you see the commit that
implements feature A. Let’s check out feature-b.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git checkout feature-b
</code></pre></div></div>

<p>Let’s take a look at the history again. Do you see the commit with
feature A? Probably not, but you can see it by doing this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git log <span class="nt">--all</span>
</code></pre></div></div>

<p>And if you want a visual representation, add the <code class="highlighter-rouge">--graph</code>
option. Where is <code class="highlighter-rouge">HEAD</code>? Where is <code class="highlighter-rouge">feature-b</code>?</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git log <span class="nt">--all</span> <span class="nt">--graph</span>
</code></pre></div></div>

<p>Let’s merge the branches! First, check out main again. Take a look at
the history (with all commits and the graph option enabled). Where is
<code class="highlighter-rouge">HEAD</code>?</p>

<p>Now let’s use the <code class="highlighter-rouge">merge</code> subcommand to merge the branches. Make sure
you’re on <code class="highlighter-rouge">main</code> and then run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git merge feature-b
</code></pre></div></div>

<p>This attempts to merge the <code class="highlighter-rouge">feature-b</code> branch into the <code class="highlighter-rouge">main</code>
branch. It should look something like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;&lt;&lt;&lt;&lt;&lt;</span>&lt; HEAD
<span class="o">[</span>Feature A Code]
<span class="o">=======</span>
<span class="o">[</span>Feature B Code]
<span class="o">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span> feature-b
</code></pre></div></div>

<p>Note that <code class="highlighter-rouge">[Feature A Code]</code> will be replaced with the actual code
associated with Feature A. The top part represents the state of the
code at your <code class="highlighter-rouge">HEAD</code> (in this case, <code class="highlighter-rouge">HEAD</code> is an alias for <code class="highlighter-rouge">main</code>).</p>

<p>Before going further, take a look at the state of your
repository. Note that <code class="highlighter-rouge">git</code> gives you helpful instructions on how to
proceed – you can either fix the conflicts and then run <code class="highlighter-rouge">git commit -m "some message"</code>
which will create your merge commit, or you can abort the process
altogether.</p>

<p>Your job is now to reconcile these conflicts, and remove the merge
conflict separators. Do that now. At the end of your reconciliation,
both features should work as expected. You can test them by running it
with Python.</p>

<p>Once that’s done, let’s take a look at the state of the repo
again. Git should tell you that you’re good to go!</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git status
</code></pre></div></div>

<p>Let’s take a look at the log with the <code class="highlighter-rouge">--graph</code> option. You should see
your merge commit with two parent pointers.</p>

<p>Commit and Push the changes to the main branch on Github, and take a look at all
the commits.</p>

<h2 id="id_rebasing">Rebasing</h2>

<p>Let’s reverse roles now so that the owner becomes the collaborator and
vice-versa. Change directories into the other repository that was
created and clone at the beginning, and reimplement Feature A and
Feature B. Like before:</p>
<ul>
  <li>The owner will be working on the <code class="highlighter-rouge">main</code> branch and the collaborator will be working on a branch called <code class="highlighter-rouge">feature-b</code>.</li>
</ul>

<p>Once again, you’ll collaborate on the <strong>collaborator’s</strong> computer (but
the other person should be the collaborator now). We’ll do a rebase and
fast-forward this time, instead of a merge. Start by examining the
history as described above. Take a note of the commit hash of
<code class="highlighter-rouge">feature-b</code>. After a successful rebase, that should change (since
we’re creating a new commit).</p>

<p>Next, we’ll rebase <code class="highlighter-rouge">main</code> on the <code class="highlighter-rouge">feature-b</code> branch, then fast-forward
merge feature-b back into <code class="highlighter-rouge">main</code>. So check out the <code class="highlighter-rouge">feature-b</code>
branch. And then, after confirming you’re in the right place, the collaborator should do the rebase.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git rebase main
</code></pre></div></div>

<p>Git will try to “replay” the new commit in <code class="highlighter-rouge">main</code> on top but it will hit
the same conflict we saw in the merge case. Read the message Git outputs.</p>

<p>Now take a look at the code. You’ll see it looks something like this.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;&lt;&lt;&lt;&lt;&lt;</span>&lt; HEAD
<span class="o">[</span>Feature A Code]
<span class="o">=======</span>
<span class="o">[</span>Feature B Code]
<span class="o">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span> 1a0ffaa <span class="o">(</span>Add feature b<span class="o">)</span>
</code></pre></div></div>

<p>In this case <code class="highlighter-rouge">HEAD</code> is <code class="highlighter-rouge">main</code> again, since we checked it out to replay
the commits on top. Check the status of the repository, and read all
the hints Git is giving you. Fix the conflicts as you did this time.</p>

<p>Once you’re done, check the status again and read the message.</p>

<p><strong>Question:</strong> What should you do now? Go ahead and do it.</p>

<p><strong>Answer:</strong> <code class="highlighter-rouge">git rebase --continue</code></p>

<p>Once that’s done, you’ve successfully rebase <code class="highlighter-rouge">main</code> onto
<code class="highlighter-rouge">feature-b</code>. Check the history and note that the commit hash
associated with <code class="highlighter-rouge">feature-b</code> has changed as we expected!</p>

<p>We’re not finished yet, because we wanted to get <code class="highlighter-rouge">feature-b</code> into
<code class="highlighter-rouge">main</code>. Now that <code class="highlighter-rouge">main</code> is no longer ahead, we can do a fast-forward
merge into main. To complete this, check out the main branch and do a
merge.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git checkout main
<span class="nv">$ </span>git merge feature-b
</code></pre></div></div>

<p>Read the output. Now take a look at the history with the <code class="highlighter-rouge">--graph</code>
option. How is the history different from the merge above? Do you see
a merge commit?</p>

<p>Push the changes to Github and take a look at the commits.</p>

<p>Now you’ve successfully fixed some merge conflicts, merged, and
rebased. Do you have any opinions on which is better? Talk with your
partner about your newly found strong opinions.</p>

            </article>  
        </main>
        <footer>
            <p>    
                Department of Computer Science, UNC Asheville
            </p>
        </footer>
        
        <script type="text/javascript" src="/spring2025/assets/js/main.js"></script>

<!-- <script>
    //little bit of a hack:
    const scrollLeft = () => {
        //console.log('scrollLeft');
        document.documentElement.scrollLeft = 0;
    };
    setTimeout(scrollLeft, 100);
</script> -->
        
        <script type="text/javascript" src="/spring2025/assets/js/scrollspy.js"></script>
        <script type="text/javascript" src="/spring2025/assets/js/expandable.js"></script>
    </body>
</html>